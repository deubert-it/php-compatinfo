#!/usr/bin/env php
<?php

if (PHP_SAPI !== 'cli') {
    return;
}

if (\Phar::running()) {
    $vendorDir = 'phar://phpcompatinfo.phar/vendor';
} else {
    $baseDir   = dirname(__DIR__);
    $vendorDir = $baseDir . '/vendor';

    if (!file_exists($vendorDir . '/autoload.php')) {
        $vendorDir = dirname(dirname($baseDir));
    }
}
require_once $vendorDir . '/autoload.php';

use Bartlett\CompatInfo\Console\ApplicationInterface;

/** @var \Symfony\Component\DependencyInjection\ContainerBuilder $container */
$container = require dirname(__DIR__) . '/config/container.php';

$app = $container->get(ApplicationInterface::class);
$app->setContainer($container);
exit($app->run());
